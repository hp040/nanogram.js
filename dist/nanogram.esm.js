/**
*
* nanogram.js
*
* @version 3.0.1
* @author Alexey Istomin
* @email: webistomin@gmail.com
* @license: MIT
*
**/

var n=function(){return(n=Object.assign||function(n){for(var t,o=1,r=arguments.length;o<r;o++)for(var e in t=arguments[o])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}).apply(this,arguments)};function t(n,t,o,r){return new(o||(o=Promise))((function(e,i){function l(n){try{a(r.next(n))}catch(n){i(n)}}function u(n){try{a(r.throw(n))}catch(n){i(n)}}function a(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(l,u)}a((r=r.apply(n,t||[])).next())}))}function o(n,t){var o,r,e,i,l={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(e=2&i[0]?r.return:i[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,i[1])).done)return e;switch(r=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(e=l.trys,(e=e.length>0&&e[e.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){l.label=i[1];break}if(6===i[0]&&l.label<e[1]){l.label=e[1],e=i;break}if(e&&l.label<e[2]){l.label=e[2],l.ops.push(i);break}e[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(n,l)}catch(n){i=[6,n],r=0}finally{o=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var r=/<script type="text\/javascript">window._sharedData = (.*);<\/script>/,e=["[nanogram.js] It looks like your network has been temporary banned because of too many requests."].join("\n"),i=function(n){return"https://www.instagram.com/"+n},l=function(n,t){try{var o=n;return t&&(o=r.exec(n)[1]),JSON.parse(o)}catch(n){throw new Error(n)}},u=function(n,t){return new Promise((function(o,r){var e=new XMLHttpRequest;e.open(n,t),e.onload=function(){return o(e)},e.onerror=r,e.send()}))},a=function(n,r){return void 0===r&&(r=!0),t(void 0,void 0,void 0,(function(){var t,e,i,a;return o(this,(function(o){switch(o.label){case 0:return[4,u("GET",n)];case 1:if(t=o.sent(),e=t.responseText,i=t.status,a=t.responseURL,i>=200&&i<400)return[2,l(e,r)];throw new Error(i+" for "+a)}}))}))},c=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f,h,p;return o(this,(function(o){switch(o.label){case 0:return t={city_list:null,country_info:null},l=i("explore/locations/"+r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(p=null==u?void 0:u.entry_data)||void 0===p?void 0:p.LocationsDirectoryPage))throw new Error(e);return s=n({},null==c?void 0:c[0]),d=s.city_list,v=void 0===d?null:d,f=s.country_info,h=void 0===f?null:f,t.city_list=v,t.country_info=h,[2,t]}}))}))},s=function(){return t(void 0,void 0,void 0,(function(){var t,r,l,u,c,s,d;return o(this,(function(o){switch(o.label){case 0:return t={country_list:null},r=i("explore/locations/"),[4,a(r)];case 1:if(l=o.sent(),!(u=null===(d=null==l?void 0:l.entry_data)||void 0===d?void 0:d.LocationsDirectoryPage))throw new Error(e);return c=n({},null==u?void 0:u[0]).country_list,s=void 0===c?null:c,t.country_list=s,[2,t]}}))}))},d=function(r,l){return t(void 0,void 0,void 0,(function(){var t,u,c,s,d,v,f,h;return o(this,(function(o){switch(o.label){case 0:return t={location:null},u=i("explore/locations/"+r+"/"+l+"/"),[4,a(u)];case 1:if(c=o.sent(),!(s=null===(f=null==c?void 0:c.entry_data)||void 0===f?void 0:f.LocationsPage))throw new Error(e);return d=n({},null===(h=null==s?void 0:s[0])||void 0===h?void 0:h.graphql).location,v=void 0===d?null:d,t.location=v,[2,t]}}))}))},v=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f;return o(this,(function(o){switch(o.label){case 0:return t={location:null},l=i("explore/locations/"+r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(v=null==u?void 0:u.entry_data)||void 0===v?void 0:v.LocationsPage))throw new Error(e);return s=n({},null===(f=null==c?void 0:c[0])||void 0===f?void 0:f.graphql).location,d=void 0===s?null:s,t.location=d,[2,t]}}))}))},f=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f;return o(this,(function(o){switch(o.label){case 0:return t={post:null},l=i("p/"+r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(v=null==u?void 0:u.entry_data)||void 0===v?void 0:v.PostPage))throw new Error(e);return s=n({},null===(f=null==c?void 0:c[0])||void 0===f?void 0:f.graphql).shortcode_media,d=void 0===s?null:s,t.post=d,[2,t]}}))}))},h=function(n){return t(void 0,void 0,void 0,(function(){var t,r,l,u,c,s,d,v,f;return o(this,(function(o){switch(o.label){case 0:return t={media:{users:null,hashtags:null,places:null}},r=i("web/search/topsearch/?context=blended&query="+n+"&include_reel=true"),[4,a(r,!1)];case 1:if(!(l=o.sent()))throw new Error(e);return u=l.users,c=void 0===u?null:u,s=l.hashtags,d=void 0===s?null:s,v=l.places,f=void 0===v?null:v,t.media.users=c,t.media.hashtags=d,t.media.places=f,[2,t]}}))}))},p=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f;return o(this,(function(o){switch(o.label){case 0:return t={tag:null},l=i("explore/tags/"+r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(v=null==u?void 0:u.entry_data)||void 0===v?void 0:v.TagPage))throw new Error(e);return s=n({},null===(f=null==c?void 0:c[0])||void 0===f?void 0:f.graphql).hashtag,d=void 0===s?null:s,t.tag=d,[2,t]}}))}))},w=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f;return o(this,(function(o){switch(o.label){case 0:return t={profile:null},l=i(r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(v=null==u?void 0:u.entry_data)||void 0===v?void 0:v.ProfilePage))throw new Error(e);return s=n({},null===(f=null==c?void 0:c[0])||void 0===f?void 0:f.graphql).user,d=void 0===s?null:s,t.profile=d,[2,t]}}))}))},y=function(r){return t(void 0,void 0,void 0,(function(){var t,l,u,c,s,d,v,f,h,p,w,y;return o(this,(function(o){switch(o.label){case 0:return t={place:{city_info:null,country_info:null,location_list:null}},l=i("explore/locations/"+r+"/"),[4,a(l)];case 1:if(u=o.sent(),!(c=null===(y=null==u?void 0:u.entry_data)||void 0===y?void 0:y.LocationsDirectoryPage))throw new Error(e);return s=n({},null==c?void 0:c[0]),d=s.city_info,v=void 0===d?null:d,f=s.country_info,h=void 0===f?null:f,p=s.location_list,w=void 0===p?null:p,t.place.city_info=v,t.place.country_info=h,t.place.location_list=w,[2,t]}}))}))};export{c as getCitiesByCountryId,s as getCountries,d as getMediaByLocation,v as getMediaByPlaceId,f as getMediaByPostId,h as getMediaBySearchQuery,p as getMediaByTag,w as getMediaByUsername,y as getPlacesByCityId};
